{
   "_id":"_design/casa",
   "language":"javascript",
   "views":{
      "applications": {
           "map": "function(doc){\n  if(doc.type != null && doc.type == 'peer'){\n    for(var i=0; i<doc.apps.length; i++){\n      emit([doc.apps[i].identity, doc.apps[i]], null);\n    }\n  }\n}",
           "reduce": "function(keys, values) {\n    return null;\n}"
       },
      "peers":{
         "map":"function(doc){\n  if(doc.type != null && doc.type == 'peer'){\n    emit(doc._id, doc)\n  }\n}"
      },
      "users": {
           "map": "function(doc){\n  if(doc.type != null && doc.type === 'user'){\n    emit(doc.username, doc)\n  }\n}"
      }
   }
}
